---
const allResumeSections = await Astro.glob("../EDIT_ME/*.md");
const menuContent = allResumeSections.map((section) => (
  {
    "anchor": "#" + section.frontmatter.title,
    "title": section.frontmatter.title
  }
))
---

<div id = "dropdown-menu" class = "opacity-0 invisible translate-y-2">
  <div class="flex flex-col">
    {
			menuContent.map((content) => (
      <a class = "dropdown-menu-links" href={content.anchor}><div>{content.title}</div></a>
      ))
		}
  </div>
</div>

<script is:inline>
  // src: https://stackoverflow.com/questions/54511902/how-to-use-classlist-toggle-to-show-hide-drop-down-list-content

const dropdownMenu = document.getElementById("dropdown-menu");

document.getElementById("dropdown-button").onclick = () => toggleMenu();

function toggleMenu() {
  dropdownMenu.classList.toggle('opacity-0');
  dropdownMenu.classList.toggle('invisible');
  dropdownMenu.classList.toggle('translate-y-2');
  document.getElementById("dropdown-icon-down").classList.toggle("hide");
  document.getElementById("dropdown-icon-up").classList.toggle("show");
}
</script>