---
const allResumeSections = await Astro.glob("../resume_sections/*.md");
const menuContent = allResumeSections.map((section) => (
  {
    "anchor": "#" + section.frontmatter.title,
    "title": section.frontmatter.title
  }
))
---

<div id = "dropdown-menu" class = "bg-slate-200 border-4 border-solid border-slate-700 rounded-lg w-fit p-2 -mt-1 z-10 absolute drop-shadow-lg hidden">
  <div class="flex flex-col">
    {
			menuContent.map((content) => (
      <a class = "border-none hover:bg-white hover:rounded-lg px-2 py-1" href={content.anchor}><div>{content.title}</div></a>
      ))
		}
  </div>
</div>

<script>
  // src: https://stackoverflow.com/questions/54511902/how-to-use-classlist-toggle-to-show-hide-drop-down-list-content
  window.onload = () => {
    document.getElementById("dropdown-button")!.onclick = () => toggleMenu();

    function toggleMenu() {
      document.getElementById("dropdown-menu")!.classList.toggle("show");
      document.getElementById("dropdown-icon-down")!.classList.toggle("hide");
      document.getElementById("dropdown-icon-up")!.classList.toggle("show");
    }
  }
</script>